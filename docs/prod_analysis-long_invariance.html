<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Longitudinal analysis</title>

<script src="site_libs/header-attrs-2.1/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="..\input\bib\style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Measuring meritocratic perceptions and beliefs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="preanalisis.html">Pre-analisis plan</a>
</li>
<li>
  <a href="prod_prep-data-A.html">Data preparation</a>
</li>
<li>
  <a href="prod_analysis-cfa.html">Analysis</a>
</li>
<li>
  <a href="paper.html">Paper</a>
</li>
<li>
  <a href="https://github.com/juancarloscastillo/merit-scale">
    <span class="fa fa-github fa-lg"></span>
     
    
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Longitudinal analysis</h1>
<h4 class="date">12 abril, 2020</h4>

</div>


<div id="longitudinal-analysis" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Longitudinal analysis</h1>
<pre class="r"><code>library(sjPlot)
library(dplyr)
library(lavaan)
library(stargazer)
library(corrplot)
library(psych)
library(knitr)
library(kableExtra)</code></pre>
<pre class="r"><code>load(file = &quot;input/data/proc/datawide_123.RData&quot;)</code></pre>
<pre class="r"><code>g01&lt;- wide02 %&gt;% filter(grupo==1) %&gt;% select(starts_with(&quot;perc_&quot;),starts_with(&quot;pref_&quot;)) # Fixed by perception/preference
g02&lt;- wide02 %&gt;% filter(grupo==2) %&gt;% select(starts_with(&quot;perc_&quot;),starts_with(&quot;pref_&quot;)) # Fixed by topic (i.e: effort)
g03&lt;- wide02 %&gt;% filter(grupo==3) %&gt;% select(starts_with(&quot;perc_&quot;),starts_with(&quot;pref_&quot;)) # Randomized</code></pre>
<div id="grupo-versión-01" class="section level3" number="1.0.1">
<h3 number="1.0.1"><span class="header-section-number">1.0.1</span> Grupo Versión 01</h3>
<pre class="r"><code>stargazer(g01,type = &quot;html&quot;, median = T,digits = 2)</code></pre>
<table style="text-align:center">
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Median
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w1
</td>
<td>
486
</td>
<td>
3.22
</td>
<td>
1.35
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w1
</td>
<td>
486
</td>
<td>
3.02
</td>
<td>
1.11
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w1
</td>
<td>
486
</td>
<td>
3.61
</td>
<td>
1.36
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w1
</td>
<td>
486
</td>
<td>
3.76
</td>
<td>
1.23
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w2
</td>
<td>
486
</td>
<td>
3.33
</td>
<td>
1.23
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3.5
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w2
</td>
<td>
486
</td>
<td>
3.13
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w2
</td>
<td>
486
</td>
<td>
3.59
</td>
<td>
1.30
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w2
</td>
<td>
486
</td>
<td>
3.56
</td>
<td>
1.26
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w3
</td>
<td>
486
</td>
<td>
3.47
</td>
<td>
1.16
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w3
</td>
<td>
486
</td>
<td>
3.18
</td>
<td>
1.01
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w3
</td>
<td>
486
</td>
<td>
3.38
</td>
<td>
1.30
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w3
</td>
<td>
486
</td>
<td>
3.52
</td>
<td>
1.20
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w1
</td>
<td>
486
</td>
<td>
3.91
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w1
</td>
<td>
486
</td>
<td>
3.33
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w1
</td>
<td>
486
</td>
<td>
2.54
</td>
<td>
1.12
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w1
</td>
<td>
486
</td>
<td>
2.30
</td>
<td>
1.06
</td>
<td>
1
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w2
</td>
<td>
486
</td>
<td>
3.92
</td>
<td>
1.13
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w2
</td>
<td>
486
</td>
<td>
3.30
</td>
<td>
1.10
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w2
</td>
<td>
486
</td>
<td>
2.60
</td>
<td>
1.14
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w2
</td>
<td>
486
</td>
<td>
2.29
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w3
</td>
<td>
486
</td>
<td>
4.03
</td>
<td>
1.11
</td>
<td>
1
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w3
</td>
<td>
486
</td>
<td>
3.49
</td>
<td>
1.01
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w3
</td>
<td>
486
</td>
<td>
2.51
</td>
<td>
1.16
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w3
</td>
<td>
486
</td>
<td>
2.35
</td>
<td>
1.08
</td>
<td>
1
</td>
<td>
2
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<pre class="r"><code>corwide01a&lt;- polychoric(x = select(g01 ,starts_with(match = &quot;perc_&quot;)),na.rm = T)
rownames(corwide01a$rho) &lt;-c(&quot;1. pc_effortw1&quot;,&quot;2. pc_talentw1&quot;,&quot;3. pc_wpartw1 &quot;,&quot;4. pc_netww1&quot;,&quot;5. pc_effortw2&quot;,&quot;6. pc_talentw2&quot;,&quot;7. pc_wpartw2&quot;,&quot;8. pc_netww2&quot;,&quot;9. pc_effortw3&quot;,&quot;10. pc_talentw3&quot;,&quot;11. pc_wpartw3 &quot;,&quot;12. pc_netww3&quot;)
colnames(corwide01a$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwide01a$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-7-1.png" alt="Percepción" width="75%" />
<p class="caption">
Percepción
</p>
</div>
<pre class="r"><code>corwide01b&lt;- polychoric(x = select(g01 ,starts_with(match = &quot;pref_&quot;)),na.rm = T)
rownames(corwide01b$rho) &lt;-c(&quot;1. pf_effortw1&quot;,&quot;2. pf_talentw1&quot;,&quot;3. pf_wpartw1 &quot;,&quot;4. pf_netww1&quot;,&quot;5. pf_effortw2&quot;,&quot;6. pf_talentw2&quot;,&quot;7. pf_wpartw2&quot;,&quot;8. pf_netww2&quot;,&quot;9. pf_effortw3&quot;,&quot;10. pf_talentw3&quot;,&quot;11. pf_wpartw3 &quot;,&quot;12. pf_netww3&quot;)
colnames(corwide01b$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwide01b$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-7-2.png" alt="Preferencia" width="75%" />
<p class="caption">
Preferencia
</p>
</div>
</div>
<div id="grupo-versión-02" class="section level3" number="1.0.2">
<h3 number="1.0.2"><span class="header-section-number">1.0.2</span> Grupo Versión 02</h3>
<pre class="r"><code>stargazer(g02,type = &quot;html&quot;, median = T,digits = 2)</code></pre>
<table style="text-align:center">
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Median
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w1
</td>
<td>
471
</td>
<td>
3.10
</td>
<td>
1.42
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w1
</td>
<td>
471
</td>
<td>
3.09
</td>
<td>
1.13
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w1
</td>
<td>
471
</td>
<td>
3.65
</td>
<td>
1.36
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w1
</td>
<td>
471
</td>
<td>
3.68
</td>
<td>
1.22
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w2
</td>
<td>
471
</td>
<td>
3.35
</td>
<td>
1.25
</td>
<td>
1
</td>
<td>
2
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w2
</td>
<td>
471
</td>
<td>
3.14
</td>
<td>
1.10
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w2
</td>
<td>
471
</td>
<td>
3.59
</td>
<td>
1.26
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w2
</td>
<td>
471
</td>
<td>
3.61
</td>
<td>
1.20
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w3
</td>
<td>
471
</td>
<td>
3.54
</td>
<td>
1.22
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w3
</td>
<td>
471
</td>
<td>
3.21
</td>
<td>
1.06
</td>
<td>
1
</td>
<td>
2.5
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w3
</td>
<td>
471
</td>
<td>
3.41
</td>
<td>
1.27
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w3
</td>
<td>
471
</td>
<td>
3.43
</td>
<td>
1.28
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w1
</td>
<td>
471
</td>
<td>
3.75
</td>
<td>
1.34
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w1
</td>
<td>
471
</td>
<td>
3.18
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w1
</td>
<td>
471
</td>
<td>
2.77
</td>
<td>
1.20
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w1
</td>
<td>
471
</td>
<td>
2.39
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
2
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w2
</td>
<td>
471
</td>
<td>
4.00
</td>
<td>
1.14
</td>
<td>
1
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w2
</td>
<td>
471
</td>
<td>
3.27
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
2.5
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w2
</td>
<td>
471
</td>
<td>
2.59
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w2
</td>
<td>
471
</td>
<td>
2.30
</td>
<td>
1.03
</td>
<td>
1
</td>
<td>
2
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w3
</td>
<td>
471
</td>
<td>
4.11
</td>
<td>
1.08
</td>
<td>
1
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w3
</td>
<td>
471
</td>
<td>
3.45
</td>
<td>
1.12
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w3
</td>
<td>
471
</td>
<td>
2.53
</td>
<td>
1.14
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w3
</td>
<td>
471
</td>
<td>
2.28
</td>
<td>
1.05
</td>
<td>
1
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<pre class="r"><code>corwide02a&lt;- polychoric(x = select(g02 ,starts_with(match = &quot;perc_&quot;)),na.rm = T)
rownames(corwide02a$rho) &lt;-c(&quot;1. pc_effortw1&quot;,&quot;2. pc_talentw1&quot;,&quot;3. pc_wpartw1 &quot;,&quot;4. pc_netww1&quot;,&quot;5. pc_effortw2&quot;,&quot;6. pc_talentw2&quot;,&quot;7. pc_wpartw2&quot;,&quot;8. pc_netww2&quot;,&quot;9. pc_effortw3&quot;,&quot;10. pc_talentw3&quot;,&quot;11. pc_wpartw3 &quot;,&quot;12. pc_netww3&quot;)
colnames(corwide02a$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwide02a$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-9-1.png" alt="Percepción" width="75%" />
<p class="caption">
Percepción
</p>
</div>
<pre class="r"><code>corwide02b&lt;- polychoric(x = select(g02 ,starts_with(match = &quot;pref_&quot;)),na.rm = T)
rownames(corwide02b$rho) &lt;-c(&quot;1. pf_effortw1&quot;,&quot;2. pf_talentw1&quot;,&quot;3. pf_wpartw1 &quot;,&quot;4. pf_netww1&quot;,&quot;5. pf_effortw2&quot;,&quot;6. pf_talentw2&quot;,&quot;7. pf_wpartw2&quot;,&quot;8. pf_netww2&quot;,&quot;9. pf_effortw3&quot;,&quot;10. pf_talentw3&quot;,&quot;11. pf_wpartw3 &quot;,&quot;12. pf_netww3&quot;)
colnames(corwide02b$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwide02b$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-9-2.png" alt="Preferencia" width="75%" />
<p class="caption">
Preferencia
</p>
</div>
</div>
<div id="grupo-versión-03" class="section level3" number="1.0.3">
<h3 number="1.0.3"><span class="header-section-number">1.0.3</span> Grupo Versión 03</h3>
<pre class="r"><code>stargazer(g03,type = &quot;html&quot;, median = T,digits = 2)</code></pre>
<table style="text-align:center">
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Median
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w1
</td>
<td>
491
</td>
<td>
3.41
</td>
<td>
1.34
</td>
<td>
1
</td>
<td>
2
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w1
</td>
<td>
491
</td>
<td>
3.12
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w1
</td>
<td>
491
</td>
<td>
3.76
</td>
<td>
1.34
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w1
</td>
<td>
491
</td>
<td>
3.92
</td>
<td>
1.22
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w2
</td>
<td>
491
</td>
<td>
3.32
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
2
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w2
</td>
<td>
491
</td>
<td>
3.13
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w2
</td>
<td>
491
</td>
<td>
3.44
</td>
<td>
1.41
</td>
<td>
1
</td>
<td>
2
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w2
</td>
<td>
491
</td>
<td>
3.50
</td>
<td>
1.28
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w3
</td>
<td>
491
</td>
<td>
3.49
</td>
<td>
1.23
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4.5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w3
</td>
<td>
491
</td>
<td>
3.21
</td>
<td>
1.01
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w3
</td>
<td>
491
</td>
<td>
3.41
</td>
<td>
1.31
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w3
</td>
<td>
491
</td>
<td>
3.40
</td>
<td>
1.25
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w1
</td>
<td>
491
</td>
<td>
4.14
</td>
<td>
1.11
</td>
<td>
1
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w1
</td>
<td>
491
</td>
<td>
3.41
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w1
</td>
<td>
491
</td>
<td>
2.79
</td>
<td>
1.19
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w1
</td>
<td>
491
</td>
<td>
2.48
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
2
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w2
</td>
<td>
491
</td>
<td>
3.88
</td>
<td>
1.20
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w2
</td>
<td>
491
</td>
<td>
3.30
</td>
<td>
1.10
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w2
</td>
<td>
491
</td>
<td>
2.58
</td>
<td>
1.16
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w2
</td>
<td>
491
</td>
<td>
2.32
</td>
<td>
1.04
</td>
<td>
1
</td>
<td>
2
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w3
</td>
<td>
491
</td>
<td>
4.05
</td>
<td>
1.08
</td>
<td>
1
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w3
</td>
<td>
491
</td>
<td>
3.45
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w3
</td>
<td>
491
</td>
<td>
2.53
</td>
<td>
1.14
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w3
</td>
<td>
491
</td>
<td>
2.34
</td>
<td>
1.07
</td>
<td>
1
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<pre class="r"><code>corwide03a&lt;- polychoric(x = select(g03 ,starts_with(match = &quot;perc_&quot;)),na.rm = T)
rownames(corwide03a$rho) &lt;-c(&quot;1. pc_effortw1&quot;,&quot;2. pc_talentw1&quot;,&quot;3. pc_wpartw1 &quot;,&quot;4. pc_netww1&quot;,&quot;5. pc_effortw2&quot;,&quot;6. pc_talentw2&quot;,&quot;7. pc_wpartw2&quot;,&quot;8. pc_netww2&quot;,&quot;9. pc_effortw3&quot;,&quot;10. pc_talentw3&quot;,&quot;11. pc_wpartw3 &quot;,&quot;12. pc_netww3&quot;)
colnames(corwide03a$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwide03a$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-11-1.png" alt="Percepción" width="75%" />
<p class="caption">
Percepción
</p>
</div>
<pre class="r"><code>corwide03b&lt;- polychoric(x = select(g03 ,starts_with(match = &quot;pref_&quot;)),na.rm = T)
rownames(corwide03b$rho) &lt;-c(&quot;1. pf_effortw1&quot;,&quot;2. pf_talentw1&quot;,&quot;3. pf_wpartw1 &quot;,&quot;4. pf_netww1&quot;,&quot;5. pf_effortw2&quot;,&quot;6. pf_talentw2&quot;,&quot;7. pf_wpartw2&quot;,&quot;8. pf_netww2&quot;,&quot;9. pf_effortw3&quot;,&quot;10. pf_talentw3&quot;,&quot;11. pf_wpartw3 &quot;,&quot;12. pf_netww3&quot;)
colnames(corwide03b$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwide03b$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-11-2.png" alt="Preferencia" width="75%" />
<p class="caption">
Preferencia
</p>
</div>
</div>
<div id="muestra-completa" class="section level3" number="1.0.4">
<h3 number="1.0.4"><span class="header-section-number">1.0.4</span> Muestra completa</h3>
<pre class="r"><code>stargazer(select(wide02 ,starts_with(match = &quot;perc_&quot;), starts_with(&quot;pref_&quot;)),type = &quot;html&quot;, median = T,digits = 2)</code></pre>
<table style="text-align:center">
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Pctl(25)
</td>
<td>
Median
</td>
<td>
Pctl(75)
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w1
</td>
<td>
1,448
</td>
<td>
3.24
</td>
<td>
1.38
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w1
</td>
<td>
1,448
</td>
<td>
3.08
</td>
<td>
1.16
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w1
</td>
<td>
1,448
</td>
<td>
3.67
</td>
<td>
1.35
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w1
</td>
<td>
1,448
</td>
<td>
3.79
</td>
<td>
1.23
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w2
</td>
<td>
1,448
</td>
<td>
3.33
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
2
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w2
</td>
<td>
1,448
</td>
<td>
3.13
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w2
</td>
<td>
1,448
</td>
<td>
3.54
</td>
<td>
1.33
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w2
</td>
<td>
1,448
</td>
<td>
3.55
</td>
<td>
1.25
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_effort_w3
</td>
<td>
1,448
</td>
<td>
3.50
</td>
<td>
1.20
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_talent_w3
</td>
<td>
1,448
</td>
<td>
3.20
</td>
<td>
1.03
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_wpart_w3
</td>
<td>
1,448
</td>
<td>
3.40
</td>
<td>
1.29
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
perc_netw_w3
</td>
<td>
1,448
</td>
<td>
3.45
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w1
</td>
<td>
1,448
</td>
<td>
3.93
</td>
<td>
1.24
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w1
</td>
<td>
1,448
</td>
<td>
3.31
</td>
<td>
1.18
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w1
</td>
<td>
1,448
</td>
<td>
2.70
</td>
<td>
1.18
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w1
</td>
<td>
1,448
</td>
<td>
2.39
</td>
<td>
1.10
</td>
<td>
1
</td>
<td>
1.8
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w2
</td>
<td>
1,448
</td>
<td>
3.93
</td>
<td>
1.16
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w2
</td>
<td>
1,448
</td>
<td>
3.29
</td>
<td>
1.12
</td>
<td>
1
</td>
<td>
3
</td>
<td>
3
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w2
</td>
<td>
1,448
</td>
<td>
2.59
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w2
</td>
<td>
1,448
</td>
<td>
2.30
</td>
<td>
1.05
</td>
<td>
1
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_effort_w3
</td>
<td>
1,448
</td>
<td>
4.06
</td>
<td>
1.09
</td>
<td>
1
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_talent_w3
</td>
<td>
1,448
</td>
<td>
3.46
</td>
<td>
1.07
</td>
<td>
1
</td>
<td>
3
</td>
<td>
4
</td>
<td>
4
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_wpart_w3
</td>
<td>
1,448
</td>
<td>
2.53
</td>
<td>
1.15
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td style="text-align:left">
pref_netw_w3
</td>
<td>
1,448
</td>
<td>
2.32
</td>
<td>
1.07
</td>
<td>
1
</td>
<td>
1
</td>
<td>
2
</td>
<td>
3
</td>
<td>
5
</td>
</tr>
<tr>
<td colspan="9" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<pre class="r"><code>corwideA&lt;- polychoric(x = select(wide02 ,starts_with(match = &quot;perc_&quot;)),na.rm = T)
rownames(corwideA$rho) &lt;-c(&quot;1. pc_effortw1&quot;,&quot;2. pc_talentw1&quot;,&quot;3. pc_wpartw1 &quot;,&quot;4. pc_netww1&quot;,&quot;5. pc_effortw2&quot;,&quot;6. pc_talentw2&quot;,&quot;7. pc_wpartw2&quot;,&quot;8. pc_netww2&quot;,&quot;9. pc_effortw3&quot;,&quot;10. pc_talentw3&quot;,&quot;11. pc_wpartw3 &quot;,&quot;12. pc_netww3&quot;)
colnames(corwideA$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwideA$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-13-1.png" alt="Percepción" width="75%" />
<p class="caption">
Percepción
</p>
</div>
<pre class="r"><code>corwideB&lt;- polychoric(x = select(wide02 ,starts_with(match = &quot;pref_&quot;)),na.rm = T)
rownames(corwideB$rho) &lt;-c(&quot;1. pf_effortw1&quot;,&quot;2. pf_talentw1&quot;,&quot;3. pf_wpartw1 &quot;,&quot;4. pf_netww1&quot;,&quot;5. pf_effortw2&quot;,&quot;6. pf_talentw2&quot;,&quot;7. pf_wpartw2&quot;,&quot;8. pf_netww2&quot;,&quot;9. pf_effortw3&quot;,&quot;10. pf_talentw3&quot;,&quot;11. pf_wpartw3 &quot;,&quot;12. pf_netww3&quot;)
colnames(corwideB$rho) &lt;-c(&quot;(1)&quot;, &quot;(2)&quot;,&quot;(3)&quot;,&quot;(4)&quot;,&quot;(5)&quot;,&quot;(6)&quot;,&quot;(7)&quot;, &quot;(8)&quot;,&quot;(9)&quot;,&quot;(10)&quot;,&quot;(11)&quot;,&quot;(12)&quot;)
corrplot(corwideB$rho,method = &quot;color&quot;, type = &quot;upper&quot;, tl.col = &quot;black&quot;, addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure" style="text-align: center">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-13-2.png" alt="Preferencia" width="75%" />
<p class="caption">
Preferencia
</p>
</div>
</div>
<div id="cfa-wave01-wave02-y-wave03" class="section level2" number="1.1">
<h2 number="1.1"><span class="header-section-number">1.1</span> CFA wave01, wave02 y wave03</h2>
<pre class="r"><code>model_long &lt;- &#39;
# wave 01
perc_merit1 =~perc_effort_w1+perc_talent_w1 
perc_nmerit1=~perc_wpart_w1 +perc_netw_w1  
pref_merit1 =~pref_effort_w1+pref_talent_w1 
pref_nmerit1=~pref_wpart_w1 +pref_netw_w1
# wave 02
perc_merit2 =~perc_effort_w2+perc_talent_w2 
perc_nmerit2=~perc_wpart_w2 +perc_netw_w2  
pref_merit2 =~pref_effort_w2+pref_talent_w2 
pref_nmerit2=~pref_wpart_w2 +pref_netw_w2
# wave 03
perc_merit3 =~perc_effort_w3+perc_talent_w3 
perc_nmerit3=~perc_wpart_w3 +perc_netw_w3  
pref_merit3 =~pref_effort_w3+pref_talent_w3 
pref_nmerit3=~pref_wpart_w3 +pref_netw_w3
&#39;

fitlong_c &lt;- cfa(model = model_long,data = wide02,estimator=&quot;MLR&quot;) # Continuous/ estimador ML Robust

Indicatores &lt;-c(&quot;perc_effort_w1&quot;,&quot;perc_talent_w1&quot;,&quot;perc_wpart_w1&quot;,&quot;perc_netw_w1&quot;,
                &quot;pref_effort_w1&quot;,&quot;pref_talent_w1&quot;,&quot;pref_wpart_w1&quot;,&quot;pref_netw_w1&quot;,
                &quot;perc_effort_w2&quot;,&quot;perc_talent_w2&quot;,&quot;perc_wpart_w2&quot;,&quot;perc_netw_w2&quot;,
                &quot;pref_effort_w2&quot;,&quot;pref_talent_w2&quot;,&quot;pref_wpart_w2&quot;,&quot;pref_netw_w2&quot;)  

fitlong_o &lt;- cfa(model = model_long,data = wide02,ordered = Indicatores)

#---------------------------------------------------#
kable(rbind(Continuous=fitmeasures(fitlong_c)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            ordinal= fitmeasures(fitlong_o)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),
      format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Continuous</td>
<td align="right">665.880</td>
<td align="right">186</td>
<td align="right">0.930</td>
<td align="right">0.930</td>
<td align="right">0.933</td>
<td align="right">0.046</td>
<td align="right">0.042</td>
<td align="right">0.045</td>
</tr>
<tr class="even">
<td align="left">ordinal</td>
<td align="right">747.481</td>
<td align="right">186</td>
<td align="right">0.983</td>
<td align="right">0.947</td>
<td align="right"></td>
<td align="right">0.036</td>
<td align="right">0.046</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<pre class="r"><code>cnames &lt;- c(&quot;Factor&quot;,&quot;Indicator&quot;,&quot;Loading (MLR)&quot;,&quot;Loading (DWLS)&quot;)
kable(left_join(x = standardizedsolution(fitlong_c) %&gt;% filter(op==&quot;=~&quot;) %&gt;% select(lhs,rhs,est.std),
                y = standardizedsolution(fitlong_o) %&gt;% filter(op==&quot;=~&quot;) %&gt;% select(lhs,rhs,est.std),
                c(&quot;lhs&quot;,&quot;rhs&quot;)),
      format = &quot;markdown&quot;,digits = 2,col.names = cnames)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Factor</th>
<th align="left">Indicator</th>
<th align="right">Loading (MLR)</th>
<th align="right">Loading (DWLS)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">perc_merit1</td>
<td align="left">perc_effort_w1</td>
<td align="right">0.69</td>
<td align="right">0.70</td>
</tr>
<tr class="even">
<td align="left">perc_merit1</td>
<td align="left">perc_talent_w1</td>
<td align="right">0.64</td>
<td align="right">0.71</td>
</tr>
<tr class="odd">
<td align="left">perc_nmerit1</td>
<td align="left">perc_wpart_w1</td>
<td align="right">0.78</td>
<td align="right">0.83</td>
</tr>
<tr class="even">
<td align="left">perc_nmerit1</td>
<td align="left">perc_netw_w1</td>
<td align="right">0.83</td>
<td align="right">0.88</td>
</tr>
<tr class="odd">
<td align="left">pref_merit1</td>
<td align="left">pref_effort_w1</td>
<td align="right">0.70</td>
<td align="right">0.75</td>
</tr>
<tr class="even">
<td align="left">pref_merit1</td>
<td align="left">pref_talent_w1</td>
<td align="right">0.59</td>
<td align="right">0.65</td>
</tr>
<tr class="odd">
<td align="left">pref_nmerit1</td>
<td align="left">pref_wpart_w1</td>
<td align="right">0.73</td>
<td align="right">0.76</td>
</tr>
<tr class="even">
<td align="left">pref_nmerit1</td>
<td align="left">pref_netw_w1</td>
<td align="right">0.74</td>
<td align="right">0.79</td>
</tr>
<tr class="odd">
<td align="left">perc_merit2</td>
<td align="left">perc_effort_w2</td>
<td align="right">0.63</td>
<td align="right">0.65</td>
</tr>
<tr class="even">
<td align="left">perc_merit2</td>
<td align="left">perc_talent_w2</td>
<td align="right">0.59</td>
<td align="right">0.64</td>
</tr>
<tr class="odd">
<td align="left">perc_nmerit2</td>
<td align="left">perc_wpart_w2</td>
<td align="right">0.73</td>
<td align="right">0.81</td>
</tr>
<tr class="even">
<td align="left">perc_nmerit2</td>
<td align="left">perc_netw_w2</td>
<td align="right">0.67</td>
<td align="right">0.71</td>
</tr>
<tr class="odd">
<td align="left">pref_merit2</td>
<td align="left">pref_effort_w2</td>
<td align="right">0.62</td>
<td align="right">0.65</td>
</tr>
<tr class="even">
<td align="left">pref_merit2</td>
<td align="left">pref_talent_w2</td>
<td align="right">0.64</td>
<td align="right">0.71</td>
</tr>
<tr class="odd">
<td align="left">pref_nmerit2</td>
<td align="left">pref_wpart_w2</td>
<td align="right">0.64</td>
<td align="right">0.68</td>
</tr>
<tr class="even">
<td align="left">pref_nmerit2</td>
<td align="left">pref_netw_w2</td>
<td align="right">0.61</td>
<td align="right">0.67</td>
</tr>
<tr class="odd">
<td align="left">perc_merit3</td>
<td align="left">perc_effort_w3</td>
<td align="right">0.69</td>
<td align="right">0.67</td>
</tr>
<tr class="even">
<td align="left">perc_merit3</td>
<td align="left">perc_talent_w3</td>
<td align="right">0.62</td>
<td align="right">0.64</td>
</tr>
<tr class="odd">
<td align="left">perc_nmerit3</td>
<td align="left">perc_wpart_w3</td>
<td align="right">0.77</td>
<td align="right">0.78</td>
</tr>
<tr class="even">
<td align="left">perc_nmerit3</td>
<td align="left">perc_netw_w3</td>
<td align="right">0.69</td>
<td align="right">0.69</td>
</tr>
<tr class="odd">
<td align="left">pref_merit3</td>
<td align="left">pref_effort_w3</td>
<td align="right">0.64</td>
<td align="right">0.60</td>
</tr>
<tr class="even">
<td align="left">pref_merit3</td>
<td align="left">pref_talent_w3</td>
<td align="right">0.61</td>
<td align="right">0.65</td>
</tr>
<tr class="odd">
<td align="left">pref_nmerit3</td>
<td align="left">pref_wpart_w3</td>
<td align="right">0.75</td>
<td align="right">0.74</td>
</tr>
<tr class="even">
<td align="left">pref_nmerit3</td>
<td align="left">pref_netw_w3</td>
<td align="right">0.71</td>
<td align="right">0.72</td>
</tr>
</tbody>
</table>
<pre class="r"><code>cormat&lt;- as.matrix(inspect(fitlong_o, &quot;cor.lv&quot;))
corrplot(cormat, method = &quot;color&quot; ,type = &quot;upper&quot;, tl.col = &quot;black&quot;, tl.srt = 45,addCoef.col = &quot;black&quot;,diag = FALSE)</code></pre>
<div class="figure">
<img src="prod_analysis-long_invariance_files/figure-html/unnamed-chunk-15-1.png" alt="Correlación entre variables latentes w01, w02 y w03" width="672" />
<p class="caption">
Correlación entre variables latentes w01, w02 y w03
</p>
</div>
</div>
</div>
<div id="invarianza" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Invarianza</h1>
<div id="invarianza-entre-modalidades-en-ola-12-y-3-between-groups-invariance" class="section level2" number="2.1">
<h2 number="2.1"><span class="header-section-number">2.1</span> Invarianza entre modalidades en ola 1,2 y 3 (between groups invariance)</h2>
<p><strong>NOTE</strong>: En vista de que no existe una librería que permita estimar invarianza longitudinal asumiendo Indicatores ordinales, las primeras estimaciones las realizaré asumiendo Indicatores Continuouss (estimator=MLR).</p>
<pre class="r"><code>library(semTools)</code></pre>
<pre class="r"><code>load(file = &quot;input/data/proc/datalong.RData&quot;)     # Datos formato long
load(file = &quot;input/data/proc/datawide_123.RData&quot;) # Datos formato wide 3 olas
load(file = &quot;input/data/proc/dat04.RData&quot;)

wide_m1 &lt;- subset(wide02,grupo==1) # subset for mode 01
wide_m2 &lt;- subset(wide02,grupo==2) # subset for mode 02
wide_m3 &lt;- subset(wide02,grupo==3) # subset for mode 03</code></pre>
<pre class="r"><code>m_inv_modalidad &lt;- &#39;perc_merit=~ perc_effort+perc_talent 
                    perc_nmerit=~perc_wpart +perc_netw  
                    pref_merit=~ pref_effort+pref_talent 
                    pref_nmerit=~pref_wpart +pref_netw&#39;

indicators  &lt;-c(&quot;perc_effort&quot;,&quot;perc_talent&quot;,&quot;perc_wpart&quot;,&quot;perc_netw&quot;,
                &quot;pref_effort&quot;,&quot;pref_talent&quot;,&quot;pref_wpart&quot;,&quot;pref_netw&quot;)  

fit.conf=cfa(m_inv_modalidad,data=dat04,group=&quot;grupo&quot;,estimator=&quot;MLR&quot;)
fit.deb =cfa(m_inv_modalidad,data=dat04,group=&quot;grupo&quot;,group.equal=c(&quot;loadings&quot;),estimator=&quot;MLR&quot;)
fit.fuer=cfa(m_inv_modalidad,data=dat04,group=&quot;grupo&quot;,group.equal=c(&quot;loadings&quot;,&quot;intercepts&quot;),estimator=&quot;MLR&quot;)
fit.str =cfa(m_inv_modalidad,data=dat04,group=&quot;grupo&quot;,group.equal=c(&quot;loadings&quot;,&quot;intercepts&quot;,&quot;residuals&quot;),estimator=&quot;MLR&quot;)</code></pre>
<pre class="r"><code>kable(rbind(fit.conf=fitmeasures(fit.conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.deb =fitmeasures(fit.deb )[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.fuer=fitmeasures(fit.fuer)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.str =fitmeasures(fit.str )[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">202.373</td>
<td align="right">42</td>
<td align="right">0.955</td>
<td align="right">0.947</td>
<td align="right">0.955</td>
<td align="right">0.076</td>
<td align="right">0.073</td>
<td align="right">0.075</td>
</tr>
<tr class="even">
<td align="left">fit.deb</td>
<td align="right">223.879</td>
<td align="right">50</td>
<td align="right">0.949</td>
<td align="right">0.943</td>
<td align="right">0.950</td>
<td align="right">0.074</td>
<td align="right">0.070</td>
<td align="right">0.073</td>
</tr>
<tr class="odd">
<td align="left">fit.fuer</td>
<td align="right">238.520</td>
<td align="right">58</td>
<td align="right">0.947</td>
<td align="right">0.940</td>
<td align="right">0.948</td>
<td align="right">0.070</td>
<td align="right">0.066</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.str</td>
<td align="right">343.636</td>
<td align="right">74</td>
<td align="right">0.919</td>
<td align="right">0.911</td>
<td align="right">0.921</td>
<td align="right">0.077</td>
<td align="right">0.071</td>
<td align="right">0.076</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(anova(fit.conf, fit.deb, fit.fuer, fit.str),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">42</td>
<td align="right">52067.51</td>
<td align="right">52577.73</td>
<td align="right">214.026</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">fit.deb</td>
<td align="right">50</td>
<td align="right">52084.09</td>
<td align="right">52548.96</td>
<td align="right">246.605</td>
<td align="right">24.456</td>
<td align="right">8</td>
<td align="right">0.002</td>
</tr>
<tr class="odd">
<td align="left">fit.fuer</td>
<td align="right">58</td>
<td align="right">52080.55</td>
<td align="right">52500.05</td>
<td align="right">259.057</td>
<td align="right">12.580</td>
<td align="right">8</td>
<td align="right">0.127</td>
</tr>
<tr class="even">
<td align="left">fit.str</td>
<td align="right">74</td>
<td align="right">52173.19</td>
<td align="right">52502.00</td>
<td align="right">383.703</td>
<td align="right">101.575</td>
<td align="right">16</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
</div>
<div id="invarianza-longitudinal" class="section level2" number="2.2">
<h2 number="2.2"><span class="header-section-number">2.2</span> Invarianza Longitudinal</h2>
<blockquote>
<p>Adapted from Templin (2018), consulted at 24th of march of 2020 from: <a href="https://jonathantemplin.com/wp-content/uploads/2017/08/EPSY906_Example07b_CFA_Longitudinal_Invariance.nb_.html">here</a></p>
</blockquote>
<div id="configural-longitudinal-invariance-model-everything-separate-across-time" class="section level3" number="2.2.1">
<h3 number="2.2.1"><span class="header-section-number">2.2.1</span> 1. Configural Longitudinal Invariance Model (everything separate across time)</h3>
<pre class="r"><code>configuralSyntax = &quot;
#===================================================================================================
#Factor loadings all freely estimated in each group with labels
perc_merit1  =~ L1T1*perc_effort_w1 + L2T1*perc_talent_w1 
perc_merit2  =~ L1T2*perc_effort_w2 + L2T2*perc_talent_w2
perc_merit3  =~ L1T3*perc_effort_w3 + L2T3*perc_talent_w3

perc_nmerit1 =~ L3T1*perc_wpart_w1  + L4T1*perc_netw_w1  
perc_nmerit2 =~ L3T2*perc_wpart_w2  + L4T2*perc_netw_w2  
perc_nmerit3 =~ L3T3*perc_wpart_w3  + L4T3*perc_netw_w3  

pref_merit1  =~ L5T1*pref_effort_w1 + L6T1*pref_talent_w1
pref_merit2  =~ L5T2*pref_effort_w2 + L6T2*pref_talent_w2
pref_merit3  =~ L5T3*pref_effort_w3 + L6T3*pref_talent_w3

pref_nmerit1 =~ L7T1*pref_wpart_w1 + L8T1*pref_netw_w1
pref_nmerit2 =~ L7T2*pref_wpart_w2 + L8T2*pref_netw_w2
pref_nmerit3 =~ L7T3*pref_wpart_w3 + L8T3*pref_netw_w3

#===================================================================================================
#Item intercepts all freely estimated in each group with labels (8 items for each wave 8x3 = 16 intercepts)
perc_effort_w1 ~ I1T1*1; perc_talent_w1 ~ I2T1*1; perc_wpart_w1 ~ I3T1*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5T1*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7T1*1; pref_netw_w1 ~ I8T1*1; 
perc_effort_w2 ~ I1T2*1; perc_talent_w2 ~ I2T2*1; perc_wpart_w2 ~ I3T2*1; perc_netw_w2 ~ I4T2*1; pref_effort_w2 ~ I5T2*1; pref_talent_w2 ~ I6T2*1; pref_wpart_w2 ~ I7T2*1; pref_netw_w2 ~ I8T2*1; 
perc_effort_w3 ~ I1T3*1; perc_talent_w3 ~ I2T3*1; perc_wpart_w3 ~ I3T3*1; perc_netw_w3 ~ I4T3*1; pref_effort_w3 ~ I5T3*1; pref_talent_w3 ~ I6T3*1; pref_wpart_w3 ~ I7T3*1; pref_netw_w3 ~ I8T3*1; 

#===================================================================================================
#Residual variances all freely estimated in each group with labels 
perc_effort_w1 ~~ E1T1*perc_effort_w1; perc_talent_w1 ~~ E2T1*perc_talent_w1; perc_wpart_w1 ~~ E3T1*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5T1*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7T1*pref_wpart_w1; pref_netw_w1 ~~ E8T1*pref_netw_w1;
perc_effort_w2 ~~ E1T2*perc_effort_w2; perc_talent_w2 ~~ E2T2*perc_talent_w2; perc_wpart_w2 ~~ E3T2*perc_wpart_w2; perc_netw_w2 ~~ E4T2*perc_netw_w2; pref_effort_w2 ~~ E5T2*pref_effort_w2; pref_talent_w2 ~~ E6T2*pref_talent_w2; pref_wpart_w2 ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8T2*pref_netw_w2;
perc_effort_w3 ~~ E1T3*perc_effort_w3; perc_talent_w3 ~~ E2T3*perc_talent_w3; perc_wpart_w3 ~~ E3T3*perc_wpart_w3; perc_netw_w3 ~~ E4T3*perc_netw_w3; pref_effort_w3 ~~ E5T3*pref_effort_w3; pref_talent_w3 ~~ E6T3*pref_talent_w3; pref_wpart_w3 ~~ E7T3*pref_wpart_w3; pref_netw_w3 ~~ E8T2*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)

perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;


#===================================================================================================
#Factor variance fixed to 1 for identification in each group
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ 1*perc_merit2
perc_merit3  ~~ 1*perc_merit3

perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ 1*perc_nmerit2
perc_nmerit3 ~~ 1*perc_nmerit3

pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ 1*pref_merit2
pref_merit3  ~~ 1*pref_merit3

pref_nmerit1 ~~ 1*pref_nmerit1
pref_nmerit2 ~~ 1*pref_nmerit2
pref_nmerit3 ~~ 1*pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification in each group
perc_merit1  ~ 0
perc_merit2  ~ 0
perc_merit3  ~ 0

perc_nmerit1 ~ 0
perc_nmerit2 ~ 0
perc_nmerit3 ~ 0

pref_merit1  ~ 0
pref_merit2  ~ 0
pref_merit3  ~ 0

pref_nmerit1 ~ 0
pref_nmerit2 ~ 0
pref_nmerit3 ~ 0

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3

perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3

pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3

pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
#===================================================================================================
&quot;</code></pre>
<pre class="r"><code>#configural invariance for mode 01
conf_m1 = lavaan(model = configuralSyntax, data = wide_m1, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#configural invariance for mode 02
conf_m2 = lavaan(model = configuralSyntax, data = wide_m2, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#configural invariance for mode 03
conf_m3 = lavaan(model = configuralSyntax, data = wide_m3, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#configural invariance for complete sample (mode 1, 2 &amp; 3)
conf = lavaan(model = configuralSyntax, data = wide02, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>kable(rbind(fit.conf=fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.4</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.81</td>
<td align="right">0.816</td>
<td align="right">0.07</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
</tbody>
</table>
</div>
<div id="metric-invariance-models-all-loadings-held-equal-across-time---identified-model-using-time1-factor-variance-1" class="section level3" number="2.2.2">
<h3 number="2.2.2"><span class="header-section-number">2.2.2</span> 2. Metric Invariance Models (ALL loadings held equal across time - identified model using Time1 Factor Variance = 1)</h3>
<pre class="r"><code>metricSyntax1 = &quot;
#===================================================================================================
#Factor loadings all constrained across groups with labels *****
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3

perc_nmerit1 =~ L3*perc_wpart_w1  + L4*perc_netw_w1  
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3  

pref_merit1  =~ L5*pref_effort_w1 + L6*pref_talent_w1
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3

pref_nmerit1 =~ L7*pref_wpart_w1 + L8*pref_netw_w1
pref_nmerit2 =~ L7*pref_wpart_w2 + L8*pref_netw_w2
pref_nmerit3 =~ L7*pref_wpart_w3 + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all freely estimated in each group with labels (8 items for each wave 8x3 = 16 intercepts)
perc_effort_w1 ~ I1T1*1; perc_talent_w1 ~ I2T1*1; perc_wpart_w1 ~ I3T1*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5T1*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7T1*1; pref_netw_w1 ~ I8T1*1; 
perc_effort_w2 ~ I1T2*1; perc_talent_w2 ~ I2T2*1; perc_wpart_w2 ~ I3T2*1; perc_netw_w2 ~ I4T2*1; pref_effort_w2 ~ I5T2*1; pref_talent_w2 ~ I6T2*1; pref_wpart_w2 ~ I7T2*1; pref_netw_w2 ~ I8T2*1; 
perc_effort_w3 ~ I1T3*1; perc_talent_w3 ~ I2T3*1; perc_wpart_w3 ~ I3T3*1; perc_netw_w3 ~ I4T3*1; pref_effort_w3 ~ I5T3*1; pref_talent_w3 ~ I6T3*1; pref_wpart_w3 ~ I7T3*1; pref_netw_w3 ~ I8T3*1; 

#===================================================================================================
#Residual variances all freely estimated in each group with labels 
perc_effort_w1 ~~ E1T1*perc_effort_w1; perc_talent_w1 ~~ E2T1*perc_talent_w1; perc_wpart_w1 ~~ E3T1*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5T1*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7T1*pref_wpart_w1; pref_netw_w1 ~~ E8T1*pref_netw_w1;
perc_effort_w2 ~~ E1T2*perc_effort_w2; perc_talent_w2 ~~ E2T2*perc_talent_w2; perc_wpart_w2 ~~ E3T2*perc_wpart_w2; perc_netw_w2 ~~ E4T2*perc_netw_w2; pref_effort_w2 ~~ E5T2*pref_effort_w2; pref_talent_w2 ~~ E6T2*pref_talent_w2; pref_wpart_w2 ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8T2*pref_netw_w2;
perc_effort_w3 ~~ E1T3*perc_effort_w3; perc_talent_w3 ~~ E2T3*perc_talent_w3; perc_wpart_w3 ~~ E3T3*perc_wpart_w3; perc_netw_w3 ~~ E4T3*perc_netw_w3; pref_effort_w3 ~~ E5T3*pref_effort_w3; pref_talent_w3 ~~ E6T3*pref_talent_w3; pref_wpart_w3 ~~ E7T3*pref_wpart_w3; pref_netw_w3 ~~ E8T2*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)

perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;


#===================================================================================================
# Factor variance fixed to 1 for identification in first group; estimated in others *****
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2  # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)
perc_merit3  ~~ perc_merit3  # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)

perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2 # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)
perc_nmerit3 ~~ perc_nmerit3 # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)

pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2  # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)
pref_merit3  ~~ pref_merit3  # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)

pref_nmerit1 ~~ 1*pref_nmerit1
pref_nmerit2 ~~ pref_nmerit2 # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)
pref_nmerit3 ~~ pref_nmerit3 # deje fijado la varianza de los factores en 1 (esto lo cambie yo respecto al script original)

#===================================================================================================
#Factor mean fixed to zero for identification in each group
perc_merit1  ~ 0
perc_merit2  ~ 0
perc_merit3  ~ 0

perc_nmerit1 ~ 0
perc_nmerit2 ~ 0
perc_nmerit3 ~ 0

pref_merit1  ~ 0
pref_merit2  ~ 0
pref_merit3  ~ 0

pref_nmerit1 ~ 0
pref_nmerit2 ~ 0
pref_nmerit3 ~ 0

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3

perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3

pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3

pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
#===================================================================================================
&quot;</code></pre>
<pre class="r"><code>#metric invariance for mode 01
metr_m1A = lavaan(model = metricSyntax1, data = wide_m1, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#metric invariance for mode 02
metr_m2A = lavaan(model = metricSyntax1, data = wide_m2, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#metric invariance for mode 03
metr_m3A = lavaan(model = metricSyntax1, data = wide_m3, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#metric invariance for complete sample (mode 1, 2 &amp; 3)
metrA = lavaan(model = metricSyntax1, data = wide02, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#lavTestLRT(metr_m1A, conf_m1,scaled.shifted = TRUE, method = &quot;satorra.bentler.2001&quot;)#conf_m1 was not estimated using scaled (robust) fit measures  
# lavTestLRT(metr_m2A, conf_m2,scaled.shifted = TRUE, method = &quot;satorra.bentler.2001&quot;) # invariantes
# lavTestLRT(metr_m3A, conf_m3,scaled.shifted = TRUE, method = &quot;satorra.bentler.2001&quot;) # invariantes

kable(rbind(fit.conf=fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.07</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.07</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(lavTestLRT(metrA,conf,scaled.shifted = TRUE, method = &quot;satorra.bentler.2001&quot;),digits = 3,format = &quot;markdown&quot;) # no es invariante, ver modind</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA</td>
<td align="right">225</td>
<td align="right">103414.3</td>
<td align="right">103936.8</td>
<td align="right">1801.887</td>
<td align="right">30.982</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Mod Indices</strong>:</p>
<pre class="r"><code>#get modification indices for all parameters:
metricMI1 = modificationindices(metrA, free.remove = FALSE, maximum.number = 10000)
#restrict output to only factor loading parameters
metricMI1a = metricMI1[which(metricMI1$op == &quot;=~&quot;),]
#restrict output to only factors and items with same time point
metricMI1a$factorTime = metricMI1a$lhs
#extract time characters from items
metricMI1a$itemTime = ifelse(test =endsWith(x = metricMI1a$rhs,suffix = &quot;w1&quot;),yes = &quot;wave01&quot;,
                              no = ifelse(test = endsWith(x = metricMI1a$rhs,suffix = &quot;w2&quot;),yes = &quot;wave02&quot;,
                                          no = &quot;wave03&quot;))

metricMI1a$factorTime = ifelse(test =endsWith(x = metricMI1a$lhs,suffix = &quot;1&quot;),yes = &quot;wave01&quot;,
                               no = ifelse(test = endsWith(x = metricMI1a$lhs,suffix = &quot;2&quot;),yes = &quot;wave02&quot;,
                                           no = &quot;wave03&quot;))
metricMI1a$factor     = ifelse(test =startsWith(x = metricMI1a$lhs,prefix = &quot;perc_merit&quot;),yes = &quot;perc_merit&quot;,
                               no = ifelse(test = startsWith(x = metricMI1a$lhs,prefix = &quot;perc_nmerit&quot;),yes = &quot;perc_nmerit&quot;,
                                           no = ifelse(test = startsWith(x = metricMI1a$lhs,prefix = &quot;pref_merit&quot;),yes = &quot;pref_merit&quot;,
                                                       no = &quot;pref_nmerit&quot; )))

metricMI1a$item     = ifelse(test =startsWith(x = metricMI1a$rhs,prefix = &quot;perc_effort&quot;) | startsWith(x = metricMI1a$rhs,prefix = &quot;perc_talent&quot;),yes = &quot;perc_merit&quot;,
                               no = ifelse(test = startsWith(x = metricMI1a$rhs,prefix = &quot;perc_wpart&quot;)  | startsWith(x = metricMI1a$rhs,prefix = &quot;perc_netw&quot;),yes = &quot;perc_nmerit&quot;,
                                           no = ifelse(test = startsWith(x = metricMI1a$rhs,prefix = &quot;pref_effort&quot;) | startsWith(x = metricMI1a$rhs,prefix = &quot;pref_talent&quot;),yes = &quot;pref_merit&quot;,
                                                       no = &quot;pref_nmerit&quot; )))

metricMI1b&lt;- metricMI1a %&gt;% filter(factorTime==itemTime &amp; factor==item) # quedarme con los que son de la misma ola y mismo factor

#show only MIs for same time
metricMI1b &lt;- metricMI1b[order(-metricMI1b$mi),]</code></pre>
<pre class="r"><code>metricSyntax2 = &quot;
#===================================================================================================
#Factor loadings all constrained across groups with labels *****
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3
perc_nmerit1 =~ L3*perc_wpart_w1  + L4T1*perc_netw_w1 #FREE PARAMETER    
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3    
pref_merit1  =~ L5*pref_effort_w1 + L6*pref_talent_w1
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3
pref_nmerit1 =~ L7*pref_wpart_w1  + L8*pref_netw_w1    
pref_nmerit2 =~ L7*pref_wpart_w2  + L8*pref_netw_w2  
pref_nmerit3 =~ L7*pref_wpart_w3  + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all freely estimated in each group with labels (8 items for each wave 8x3 = 16 intercepts)
perc_effort_w1 ~ I1T1*1; perc_talent_w1 ~ I2T1*1; perc_wpart_w1 ~ I3T1*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5T1*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7T1*1; pref_netw_w1 ~ I8T1*1; 
perc_effort_w2 ~ I1T2*1; perc_talent_w2 ~ I2T2*1; perc_wpart_w2 ~ I3T2*1; perc_netw_w2 ~ I4T2*1; pref_effort_w2 ~ I5T2*1; pref_talent_w2 ~ I6T2*1; pref_wpart_w2 ~ I7T2*1; pref_netw_w2 ~ I8T2*1; 
perc_effort_w3 ~ I1T3*1; perc_talent_w3 ~ I2T3*1; perc_wpart_w3 ~ I3T3*1; perc_netw_w3 ~ I4T3*1; pref_effort_w3 ~ I5T3*1; pref_talent_w3 ~ I6T3*1; pref_wpart_w3 ~ I7T3*1; pref_netw_w3 ~ I8T3*1; 

#===================================================================================================
#Residual variances all freely estimated in each group with labels 
perc_effort_w1 ~~ E1T1*perc_effort_w1; perc_talent_w1 ~~ E2T1*perc_talent_w1; perc_wpart_w1 ~~ E3T1*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5T1*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7T1*pref_wpart_w1; pref_netw_w1 ~~ E8T1*pref_netw_w1;
perc_effort_w2 ~~ E1T2*perc_effort_w2; perc_talent_w2 ~~ E2T2*perc_talent_w2; perc_wpart_w2 ~~ E3T2*perc_wpart_w2; perc_netw_w2 ~~ E4T2*perc_netw_w2; pref_effort_w2 ~~ E5T2*pref_effort_w2; pref_talent_w2 ~~ E6T2*pref_talent_w2; pref_wpart_w2 ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8T2*pref_netw_w2;
perc_effort_w3 ~~ E1T3*perc_effort_w3; perc_talent_w3 ~~ E2T3*perc_talent_w3; perc_wpart_w3 ~~ E3T3*perc_wpart_w3; perc_netw_w3 ~~ E4T3*perc_netw_w3; pref_effort_w3 ~~ E5T3*pref_effort_w3; pref_talent_w3 ~~ E6T3*pref_talent_w3; pref_wpart_w3 ~~ E7T3*pref_wpart_w3; pref_netw_w3 ~~ E8T2*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)
perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;

#===================================================================================================
# Factor variance fixed to 1 for identification in first group; estimated in others *****
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2
perc_merit3  ~~ perc_merit3
perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2
perc_nmerit3 ~~ perc_nmerit3
pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2
pref_merit3  ~~ pref_merit3
pref_nmerit1 ~~ 1*pref_nmerit1 
pref_nmerit2 ~~ pref_nmerit2
pref_nmerit3 ~~ pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification in each group
perc_merit1  ~ 0
perc_merit2  ~ 0
perc_merit3  ~ 0
perc_nmerit1 ~ 0
perc_nmerit2 ~ 0
perc_nmerit3 ~ 0
pref_merit1  ~ 0
pref_merit2  ~ 0
pref_merit3  ~ 0
pref_nmerit1 ~ 0
pref_nmerit2 ~ 0
pref_nmerit3 ~ 0

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3
perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3
pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3
pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
&quot;</code></pre>
<pre class="r"><code>#metric invariance (v02) for complete sample (mode 1, 2 &amp; 3) +  free parameter
metrA2 = lavaan(model = metricSyntax2, data = wide02, estimator = &quot;MLR&quot;)

kable(rbind(fit.conf=fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA2 =fitmeasures(metrA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="odd">
<td align="left">fit.metrA2</td>
<td align="right">1532.551</td>
<td align="right">224</td>
<td align="right">0.812</td>
<td align="right">0.809</td>
<td align="right">0.815</td>
<td align="right">0.069</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
</tbody>
</table>
<pre class="r"><code>#fit.metrA  = all factor loading restricted
#fit.metrA2 = one free estimated factor loading
kable(lavTestLRT(metrA2,conf,scaled.shifted = TRUE,method = &quot;satorra.bentler.2001&quot;),format = &quot;markdown&quot;,digits = 3) #non invariant, see modind metric2 below</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA2</td>
<td align="right">224</td>
<td align="right">103399.2</td>
<td align="right">103927.0</td>
<td align="right">1784.797</td>
<td align="right">14.965</td>
<td align="right">7</td>
<td align="right">0.036</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: El modelo que deja libre 1 parámetro (metrA2) mejora el ajuste, pero la diff del chi2 sigue siendo significativa al 0.05.</p>
<p><strong>Mod Indices</strong>:</p>
<pre class="r"><code>#get modification indices for all parameters:
metricMI1 = modificationindices(metrA2, free.remove = FALSE, maximum.number = 10000)
#restrict output to only factor loading parameters
metricMI1a = metricMI1[which(metricMI1$op == &quot;=~&quot;),]
#restrict output to only factors and items with same time point
metricMI1a$factorTime = metricMI1a$lhs
#extract time characters from items
metricMI1a$itemTime   = ifelse(test =endsWith(x = metricMI1a$rhs,suffix = &quot;w1&quot;),yes = &quot;wave01&quot;,
                                no = ifelse(test = endsWith(x = metricMI1a$rhs,suffix = &quot;w2&quot;),yes = &quot;wave02&quot;,
                                            no = &quot;wave03&quot;))

metricMI1a$factorTime = ifelse(test =endsWith(x = metricMI1a$lhs,suffix = &quot;1&quot;),yes = &quot;wave01&quot;,
                               no = ifelse(test = endsWith(x = metricMI1a$lhs,suffix = &quot;2&quot;),yes = &quot;wave02&quot;,
                                           no = &quot;wave03&quot;))
metricMI1a$factor     = ifelse(test =startsWith(x = metricMI1a$lhs,prefix = &quot;perc_merit&quot;),yes = &quot;perc_merit&quot;,
                               no = ifelse(test = startsWith(x = metricMI1a$lhs,prefix = &quot;perc_nmerit&quot;),yes = &quot;perc_nmerit&quot;,
                                           no = ifelse(test = startsWith(x = metricMI1a$lhs,prefix = &quot;pref_merit&quot;),yes = &quot;pref_merit&quot;,
                                                       no = &quot;pref_nmerit&quot; )))

metricMI1a$item      = ifelse(test =startsWith(x = metricMI1a$rhs,prefix = &quot;perc_effort&quot;) | startsWith(x = metricMI1a$rhs,prefix = &quot;perc_talent&quot;),yes = &quot;perc_merit&quot;,
                              no = ifelse(test = startsWith(x = metricMI1a$rhs,prefix = &quot;perc_wpart&quot;)  | startsWith(x = metricMI1a$rhs,prefix = &quot;perc_netw&quot;),yes = &quot;perc_nmerit&quot;,
                                          no = ifelse(test = startsWith(x = metricMI1a$rhs,prefix = &quot;pref_effort&quot;) | startsWith(x = metricMI1a$rhs,prefix = &quot;pref_talent&quot;),yes = &quot;pref_merit&quot;,
                                                      no = &quot;pref_nmerit&quot; )))

metricMI1b&lt;- metricMI1a %&gt;% filter(factorTime==itemTime &amp; factor==item) # quedarme con los que son de la misma ola y mismo factor

#show only MIs for same time
metricMI1b &lt;- metricMI1b[order(-metricMI1b$mi),]</code></pre>
<pre class="r"><code>metricSyntax3 = &quot;
#===================================================================================================
#Factor loadings all constrained across groups with labels *****
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3
perc_nmerit1 =~ L3*perc_wpart_w1  + L4T1*perc_netw_w1  #FREE PARAMETER    
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3    
pref_merit1  =~ L5*pref_effort_w1 + L6T1*pref_talent_w1 #FREE PARAMETER
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3
pref_nmerit1 =~ L7*pref_wpart_w1  + L8*pref_netw_w1    
pref_nmerit2 =~ L7*pref_wpart_w2  + L8*pref_netw_w2  
pref_nmerit3 =~ L7*pref_wpart_w3  + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all freely estimated in each group with labels (8 items for each wave 8x3 = 16 intercepts)
perc_effort_w1 ~ I1T1*1; perc_talent_w1 ~ I2T1*1; perc_wpart_w1 ~ I3T1*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5T1*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7T1*1; pref_netw_w1 ~ I8T1*1; 
perc_effort_w2 ~ I1T2*1; perc_talent_w2 ~ I2T2*1; perc_wpart_w2 ~ I3T2*1; perc_netw_w2 ~ I4T2*1; pref_effort_w2 ~ I5T2*1; pref_talent_w2 ~ I6T2*1; pref_wpart_w2 ~ I7T2*1; pref_netw_w2 ~ I8T2*1; 
perc_effort_w3 ~ I1T3*1; perc_talent_w3 ~ I2T3*1; perc_wpart_w3 ~ I3T3*1; perc_netw_w3 ~ I4T3*1; pref_effort_w3 ~ I5T3*1; pref_talent_w3 ~ I6T3*1; pref_wpart_w3 ~ I7T3*1; pref_netw_w3 ~ I8T3*1; 

#===================================================================================================
#Residual variances all freely estimated in each group with labels 
perc_effort_w1 ~~ E1T1*perc_effort_w1; perc_talent_w1 ~~ E2T1*perc_talent_w1; perc_wpart_w1 ~~ E3T1*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5T1*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7T1*pref_wpart_w1; pref_netw_w1 ~~ E8T1*pref_netw_w1;
perc_effort_w2 ~~ E1T2*perc_effort_w2; perc_talent_w2 ~~ E2T2*perc_talent_w2; perc_wpart_w2 ~~ E3T2*perc_wpart_w2; perc_netw_w2 ~~ E4T2*perc_netw_w2; pref_effort_w2 ~~ E5T2*pref_effort_w2; pref_talent_w2 ~~ E6T2*pref_talent_w2; pref_wpart_w2 ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8T2*pref_netw_w2;
perc_effort_w3 ~~ E1T3*perc_effort_w3; perc_talent_w3 ~~ E2T3*perc_talent_w3; perc_wpart_w3 ~~ E3T3*perc_wpart_w3; perc_netw_w3 ~~ E4T3*perc_netw_w3; pref_effort_w3 ~~ E5T3*pref_effort_w3; pref_talent_w3 ~~ E6T3*pref_talent_w3; pref_wpart_w3 ~~ E7T3*pref_wpart_w3; pref_netw_w3 ~~ E8T2*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)
perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;

#===================================================================================================
# Factor variance fixed to 1 for identification in first group; estimated in others *****
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2
perc_merit3  ~~ perc_merit3
perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2
perc_nmerit3 ~~ perc_nmerit3
pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2
pref_merit3  ~~ pref_merit3
pref_nmerit1 ~~ 1*pref_nmerit1 
pref_nmerit2 ~~ pref_nmerit2
pref_nmerit3 ~~ pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification in each group
perc_merit1  ~ 0
perc_merit2  ~ 0
perc_merit3  ~ 0
perc_nmerit1 ~ 0
perc_nmerit2 ~ 0
perc_nmerit3 ~ 0
pref_merit1  ~ 0
pref_merit2  ~ 0
pref_merit3  ~ 0
pref_nmerit1 ~ 0
pref_nmerit2 ~ 0
pref_nmerit3 ~ 0

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3
perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3
pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3
pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
&quot;</code></pre>
<pre class="r"><code>#metric invariance (v03) for complete sample (mode 1, 2 &amp; 3) +  free parameter
metrA3 = lavaan(model = metricSyntax3, data = wide02, estimator = &quot;MLR&quot;)

#metrA  = all factor loading restricted
#metrA2 = one free estimated factor loading
#metrA3 = two free estimated factor loading

kable(rbind(fit.conf   =fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA  =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA2 =fitmeasures(metrA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA3 =fitmeasures(metrA3)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="odd">
<td align="left">fit.metrA2</td>
<td align="right">1532.551</td>
<td align="right">224</td>
<td align="right">0.812</td>
<td align="right">0.809</td>
<td align="right">0.815</td>
<td align="right">0.069</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA3</td>
<td align="right">1524.031</td>
<td align="right">223</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.069</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(lavTestLRT(metrA3,conf,scaled.shifted = TRUE,method = &quot;satorra.bentler.2001&quot;),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA3</td>
<td align="right">223</td>
<td align="right">103390.9</td>
<td align="right">103924.0</td>
<td align="right">1774.507</td>
<td align="right">5.35</td>
<td align="right">6</td>
<td align="right">0.5</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: the model with two free parameters (metric v03) at factor loadings works fine. Chi2 diff test is not significant</p>
</div>
<div id="scalar-invariance-models-all-loadings-held-equal-across-time---identified-model-using-time1-factor-mean-1" class="section level3" number="2.2.3">
<h3 number="2.2.3"><span class="header-section-number">2.2.3</span> 3. Scalar Invariance Models (ALL loadings held equal across time - identified model using Time1 Factor Mean = 1)</h3>
<pre class="r"><code>scalarSyntax1 = &quot;
#===================================================================================================
#Factor loadings constrained across groups except non-invariant ones
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3
perc_nmerit1 =~ L3*perc_wpart_w1  + L4T1*perc_netw_w1   #FREE PARAMETER    
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3    
pref_merit1  =~ L5*pref_effort_w1 + L6T1*pref_talent_w1 #FREE PARAMETER
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3
pref_nmerit1 =~ L7*pref_wpart_w1  + L8*pref_netw_w1    
pref_nmerit2 =~ L7*pref_wpart_w2  + L8*pref_netw_w2  
pref_nmerit3 =~ L7*pref_wpart_w3  + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all constrained across groups except non-invariant ones ****
perc_effort_w1 ~ I1*1; perc_talent_w1 ~ I2*1; perc_wpart_w1 ~ I3*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7*1; pref_netw_w1 ~ I8*1; # TWO FREE INTERCEPTS
perc_effort_w2 ~ I1*1; perc_talent_w2 ~ I2*1; perc_wpart_w2 ~ I3*1; perc_netw_w2 ~ I4*1; pref_effort_w2   ~ I5*1; pref_talent_w2 ~ I6*1; pref_wpart_w2   ~ I7*1; pref_netw_w2 ~ I8*1; 
perc_effort_w3 ~ I1*1; perc_talent_w3 ~ I2*1; perc_wpart_w3 ~ I3*1; perc_netw_w3 ~ I4*1; pref_effort_w3   ~ I5*1; pref_talent_w3 ~ I6*1; pref_wpart_w3   ~ I7*1; pref_netw_w3 ~ I8*1; 

#===================================================================================================
#Residual variances all freely estimated in each group with labels 
perc_effort_w1 ~~ E1T1*perc_effort_w1; perc_talent_w1 ~~ E2T1*perc_talent_w1; perc_wpart_w1 ~~ E3T1*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5T1*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7T1*pref_wpart_w1; pref_netw_w1 ~~ E8T1*pref_netw_w1;
perc_effort_w2 ~~ E1T2*perc_effort_w2; perc_talent_w2 ~~ E2T2*perc_talent_w2; perc_wpart_w2 ~~ E3T2*perc_wpart_w2; perc_netw_w2 ~~ E4T2*perc_netw_w2; pref_effort_w2 ~~ E5T2*pref_effort_w2; pref_talent_w2 ~~ E6T2*pref_talent_w2; pref_wpart_w2 ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8T2*pref_netw_w2;
perc_effort_w3 ~~ E1T3*perc_effort_w3; perc_talent_w3 ~~ E2T3*perc_talent_w3; perc_wpart_w3 ~~ E3T3*perc_wpart_w3; perc_netw_w3 ~~ E4T3*perc_netw_w3; pref_effort_w3 ~~ E5T3*pref_effort_w3; pref_talent_w3 ~~ E6T3*pref_talent_w3; pref_wpart_w3 ~~ E7T3*pref_wpart_w3; pref_netw_w3 ~~ E8T2*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)

perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;


#===================================================================================================
#Factor variance fixed to 1 for identification in first group; estimated in others
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2
perc_merit3  ~~ perc_merit3

perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2
perc_nmerit3 ~~ perc_nmerit3

pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2
pref_merit3  ~~ pref_merit3

pref_nmerit1 ~~ 1*pref_nmerit1
pref_nmerit2 ~~ pref_nmerit2
pref_nmerit3 ~~ pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification first group, estimated in others ****
perc_merit1  ~ 0
perc_merit2  ~ 1
perc_merit3  ~ 1

perc_nmerit1 ~ 0
perc_nmerit2 ~ 1
perc_nmerit3 ~ 1

pref_merit1  ~ 0
pref_merit2  ~ 1
pref_merit3  ~ 1

pref_nmerit1 ~ 0
pref_nmerit2 ~ 1
pref_nmerit3 ~ 1

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3

perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3

pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3

pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
#===================================================================================================
&quot;</code></pre>
<pre class="r"><code>#scalar invariance for mode 01
sca_m1A = lavaan(model = scalarSyntax1, data = wide_m1, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#scalar invariance for mode 02
sca_m2A = lavaan(model = scalarSyntax1, data = wide_m2, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#scalar invariance for mode 03
sca_m3A = lavaan(model = scalarSyntax1, data = wide_m3, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>#scalar invariance for complete sample (mode 1, 2 &amp; 3)
scaA = lavaan(model = scalarSyntax1, data = wide02, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>kable(rbind(fit.conf   =fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA  =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA2 =fitmeasures(metrA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA3 =fitmeasures(metrA3)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.scaA   =fitmeasures(scaA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="odd">
<td align="left">fit.metrA2</td>
<td align="right">1532.551</td>
<td align="right">224</td>
<td align="right">0.812</td>
<td align="right">0.809</td>
<td align="right">0.815</td>
<td align="right">0.069</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA3</td>
<td align="right">1524.031</td>
<td align="right">223</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.069</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="odd">
<td align="left">fit.scaA</td>
<td align="right">1550.456</td>
<td align="right">229</td>
<td align="right">0.813</td>
<td align="right">0.807</td>
<td align="right">0.816</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(lavTestLRT(scaA,metrA3,conf,scaled.shifted = TRUE,method = &quot;satorra.bentler.2001&quot;),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA3</td>
<td align="right">223</td>
<td align="right">103390.9</td>
<td align="right">103924.0</td>
<td align="right">1774.507</td>
<td align="right">5.350</td>
<td align="right">6</td>
<td align="right">0.500</td>
</tr>
<tr class="odd">
<td align="left">scaA</td>
<td align="right">229</td>
<td align="right">103382.5</td>
<td align="right">103883.9</td>
<td align="right">1778.109</td>
<td align="right">7.268</td>
<td align="right">6</td>
<td align="right">0.297</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: the chi2 test shows that scalar vs metric models are not significant.</p>
</div>
<div id="residual-variance-invariance-model-error-variances-held-equal-for-all-except-non-invariant-items" class="section level3" number="2.2.4">
<h3 number="2.2.4"><span class="header-section-number">2.2.4</span> 4. Residual Variance Invariance Model (error variances held equal for all except non-invariant items)</h3>
<pre class="r"><code>residVarSyntax1 = &quot;
#===================================================================================================
#Factor loadings constrained across groups except non-invariant ones
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3
perc_nmerit1 =~ L3*perc_wpart_w1  + L4T1*perc_netw_w1   #FREE PARAMETER    
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3    
pref_merit1  =~ L5*pref_effort_w1 + L6T1*pref_talent_w1 #FREE PARAMETER
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3
pref_nmerit1 =~ L7*pref_wpart_w1  + L8*pref_netw_w1    
pref_nmerit2 =~ L7*pref_wpart_w2  + L8*pref_netw_w2  
pref_nmerit3 =~ L7*pref_wpart_w3  + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all constrained across groups except non-invariant ones 
perc_effort_w1 ~ I1*1; perc_talent_w1 ~ I2*1; perc_wpart_w1 ~ I3*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7*1; pref_netw_w1 ~ I8*1; # TWO FREE INTERCEPTS
perc_effort_w2 ~ I1*1; perc_talent_w2 ~ I2*1; perc_wpart_w2 ~ I3*1; perc_netw_w2 ~ I4*1; pref_effort_w2   ~ I5*1; pref_talent_w2 ~ I6*1; pref_wpart_w2   ~ I7*1; pref_netw_w2 ~ I8*1; 
perc_effort_w3 ~ I1*1; perc_talent_w3 ~ I2*1; perc_wpart_w3 ~ I3*1; perc_netw_w3 ~ I4*1; pref_effort_w3   ~ I5*1; pref_talent_w3 ~ I6*1; pref_wpart_w3   ~ I7*1; pref_netw_w3 ~ I8*1; 

#===================================================================================================
#Redidual variances all constrained in each group except non-invariant ones ****
perc_effort_w1 ~~ E1*perc_effort_w1; perc_talent_w1 ~~ E2*perc_talent_w1; perc_wpart_w1 ~~ E3*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7*pref_wpart_w1; pref_netw_w1 ~~ E8*pref_netw_w1;
perc_effort_w2 ~~ E1*perc_effort_w2; perc_talent_w2 ~~ E2*perc_talent_w2; perc_wpart_w2 ~~ E3*perc_wpart_w2; perc_netw_w2 ~~ E4*perc_netw_w2; pref_effort_w2   ~~ E5*pref_effort_w2; pref_talent_w2 ~~ E6*pref_talent_w2; pref_wpart_w2   ~~ E7*pref_wpart_w2; pref_netw_w2 ~~ E8*pref_netw_w2;
perc_effort_w3 ~~ E1*perc_effort_w3; perc_talent_w3 ~~ E2*perc_talent_w3; perc_wpart_w3 ~~ E3*perc_wpart_w3; perc_netw_w3 ~~ E4*perc_netw_w3; pref_effort_w3   ~~ E5*pref_effort_w3; pref_talent_w3 ~~ E6*pref_talent_w3; pref_wpart_w3   ~~ E7*pref_wpart_w3; pref_netw_w3 ~~ E8*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)

perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;


#===================================================================================================
#Factor variance fixed to 1 for identification in first group; estimated in others
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2
perc_merit3  ~~ perc_merit3

perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2
perc_nmerit3 ~~ perc_nmerit3

pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2
pref_merit3  ~~ pref_merit3

pref_nmerit1 ~~ 1*pref_nmerit1
pref_nmerit2 ~~ pref_nmerit2
pref_nmerit3 ~~ pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification first group, estimated in others ****
perc_merit1  ~ 0
perc_merit2  ~ 1
perc_merit3  ~ 1

perc_nmerit1 ~ 0
perc_nmerit2 ~ 1
perc_nmerit3 ~ 1

pref_merit1  ~ 0
pref_merit2  ~ 1
pref_merit3  ~ 1

pref_nmerit1 ~ 0
pref_nmerit2 ~ 1
pref_nmerit3 ~ 1

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3

perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3

pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3

pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
#===================================================================================================
&quot;</code></pre>
<pre class="r"><code>#residual invariance for complete sample (mode 1, 2 &amp; 3)
resA = lavaan(model =residVarSyntax1 , data = wide02, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>kable(rbind(fit.conf   =fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA  =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA2 =fitmeasures(metrA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA3 =fitmeasures(metrA3)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.scaA   =fitmeasures(scaA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.resA   =fitmeasures(resA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="odd">
<td align="left">fit.metrA2</td>
<td align="right">1532.551</td>
<td align="right">224</td>
<td align="right">0.812</td>
<td align="right">0.809</td>
<td align="right">0.815</td>
<td align="right">0.069</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA3</td>
<td align="right">1524.031</td>
<td align="right">223</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.069</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="odd">
<td align="left">fit.scaA</td>
<td align="right">1550.456</td>
<td align="right">229</td>
<td align="right">0.813</td>
<td align="right">0.807</td>
<td align="right">0.816</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="even">
<td align="left">fit.resA</td>
<td align="right">1643.810</td>
<td align="right">242</td>
<td align="right">0.806</td>
<td align="right">0.795</td>
<td align="right">0.809</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.067</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(lavTestLRT(resA,scaA,metrA3,conf,scaled.shifted = TRUE,method = &quot;satorra.bentler.2001&quot;),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA3</td>
<td align="right">223</td>
<td align="right">103390.9</td>
<td align="right">103924.0</td>
<td align="right">1774.507</td>
<td align="right">5.350</td>
<td align="right">6</td>
<td align="right">0.500</td>
</tr>
<tr class="odd">
<td align="left">scaA</td>
<td align="right">229</td>
<td align="right">103382.5</td>
<td align="right">103883.9</td>
<td align="right">1778.109</td>
<td align="right">7.268</td>
<td align="right">6</td>
<td align="right">0.297</td>
</tr>
<tr class="even">
<td align="left">resA</td>
<td align="right">242</td>
<td align="right">103425.8</td>
<td align="right">103858.6</td>
<td align="right">1847.419</td>
<td align="right">96.355</td>
<td align="right">13</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
<p><strong>Mod Indices</strong>:</p>
<pre class="r"><code>#get modification indices for all parameters:
residVarMI1 = modificationindices(resA, free.remove = FALSE, maximum.number = 10000)
#restrict output to only residual variance parameters:
residVarMI1a = residVarMI1[which(residVarMI1$op == &quot;~~&quot; &amp; residVarMI1$lhs == residVarMI1$rhs),]
residVarMI1a = residVarMI1a[order(-residVarMI1a$mi),] # change: pref_wpart_w2 ~~  pref_wpart_w2</code></pre>
<pre class="r"><code>residVarSyntax2 = &quot;
#===================================================================================================
#Factor loadings constrained across groups except non-invariant ones
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3
perc_nmerit1 =~ L3*perc_wpart_w1  + L4T1*perc_netw_w1   #FREE PARAMETER    
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3    
pref_merit1  =~ L5*pref_effort_w1 + L6T1*pref_talent_w1 #FREE PARAMETER
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3
pref_nmerit1 =~ L7*pref_wpart_w1  + L8*pref_netw_w1    
pref_nmerit2 =~ L7*pref_wpart_w2  + L8*pref_netw_w2  
pref_nmerit3 =~ L7*pref_wpart_w3  + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all constrained across groups except non-invariant ones 
perc_effort_w1 ~ I1*1; perc_talent_w1 ~ I2*1; perc_wpart_w1 ~ I3*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7*1; pref_netw_w1 ~ I8*1; # TWO FREE INTERCEPTS
perc_effort_w2 ~ I1*1; perc_talent_w2 ~ I2*1; perc_wpart_w2 ~ I3*1; perc_netw_w2 ~ I4*1; pref_effort_w2   ~ I5*1; pref_talent_w2 ~ I6*1; pref_wpart_w2   ~ I7*1; pref_netw_w2 ~ I8*1; 
perc_effort_w3 ~ I1*1; perc_talent_w3 ~ I2*1; perc_wpart_w3 ~ I3*1; perc_netw_w3 ~ I4*1; pref_effort_w3   ~ I5*1; pref_talent_w3 ~ I6*1; pref_wpart_w3   ~ I7*1; pref_netw_w3 ~ I8*1; 

#===================================================================================================
#Redidual variances all constrained in each group except non-invariant ones ****
perc_effort_w1 ~~ E1*perc_effort_w1; perc_talent_w1 ~~ E2*perc_talent_w1; perc_wpart_w1 ~~ E3*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7*pref_wpart_w1; pref_netw_w1 ~~ E8*pref_netw_w1;
perc_effort_w2 ~~ E1*perc_effort_w2; perc_talent_w2 ~~ E2*perc_talent_w2; perc_wpart_w2 ~~ E3*perc_wpart_w2; perc_netw_w2 ~~ E4*perc_netw_w2; pref_effort_w2   ~~ E5*pref_effort_w2; pref_talent_w2 ~~ E6*pref_talent_w2; pref_wpart_w2   ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8*pref_netw_w2; # F-RES
perc_effort_w3 ~~ E1*perc_effort_w3; perc_talent_w3 ~~ E2*perc_talent_w3; perc_wpart_w3 ~~ E3*perc_wpart_w3; perc_netw_w3 ~~ E4*perc_netw_w3; pref_effort_w3   ~~ E5*pref_effort_w3; pref_talent_w3 ~~ E6*pref_talent_w3; pref_wpart_w3   ~~ E7*pref_wpart_w3; pref_netw_w3 ~~ E8*pref_netw_w3;
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)

perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;


#===================================================================================================
#Factor variance fixed to 1 for identification in first group; estimated in others
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2
perc_merit3  ~~ perc_merit3

perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2
perc_nmerit3 ~~ perc_nmerit3

pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2
pref_merit3  ~~ pref_merit3

pref_nmerit1 ~~ 1*pref_nmerit1
pref_nmerit2 ~~ pref_nmerit2
pref_nmerit3 ~~ pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification first group, estimated in others ****
perc_merit1  ~ 0
perc_merit2  ~ 1
perc_merit3  ~ 1

perc_nmerit1 ~ 0
perc_nmerit2 ~ 1
perc_nmerit3 ~ 1

pref_merit1  ~ 0
pref_merit2  ~ 1
pref_merit3  ~ 1

pref_nmerit1 ~ 0
pref_nmerit2 ~ 1
pref_nmerit3 ~ 1

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3

perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3

pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3

pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
#===================================================================================================
&quot;</code></pre>
<pre class="r"><code>#residual invariance (v02) for complete sample (mode 1, 2 &amp; 3)
resA2 = lavaan(model =residVarSyntax2 , data = wide02, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>kable(rbind(fit.conf   =fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA  =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA2 =fitmeasures(metrA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA3 =fitmeasures(metrA3)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.scaA   =fitmeasures(scaA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.resA   =fitmeasures(resA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.resA2  =fitmeasures(resA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="odd">
<td align="left">fit.metrA2</td>
<td align="right">1532.551</td>
<td align="right">224</td>
<td align="right">0.812</td>
<td align="right">0.809</td>
<td align="right">0.815</td>
<td align="right">0.069</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA3</td>
<td align="right">1524.031</td>
<td align="right">223</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.069</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="odd">
<td align="left">fit.scaA</td>
<td align="right">1550.456</td>
<td align="right">229</td>
<td align="right">0.813</td>
<td align="right">0.807</td>
<td align="right">0.816</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="even">
<td align="left">fit.resA</td>
<td align="right">1643.810</td>
<td align="right">242</td>
<td align="right">0.806</td>
<td align="right">0.795</td>
<td align="right">0.809</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.067</td>
</tr>
<tr class="odd">
<td align="left">fit.resA2</td>
<td align="right">1618.140</td>
<td align="right">241</td>
<td align="right">0.810</td>
<td align="right">0.799</td>
<td align="right">0.812</td>
<td align="right">0.067</td>
<td align="right">0.063</td>
<td align="right">0.067</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(lavTestLRT(resA2,scaA,metrA3,conf,scaled.shifted = TRUE,method = &quot;satorra.bentler.2001&quot;),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA3</td>
<td align="right">223</td>
<td align="right">103390.9</td>
<td align="right">103924.0</td>
<td align="right">1774.507</td>
<td align="right">5.350</td>
<td align="right">6</td>
<td align="right">0.500</td>
</tr>
<tr class="odd">
<td align="left">scaA</td>
<td align="right">229</td>
<td align="right">103382.5</td>
<td align="right">103883.9</td>
<td align="right">1778.109</td>
<td align="right">7.268</td>
<td align="right">6</td>
<td align="right">0.297</td>
</tr>
<tr class="even">
<td align="left">resA2</td>
<td align="right">241</td>
<td align="right">103396.8</td>
<td align="right">103834.9</td>
<td align="right">1816.405</td>
<td align="right">58.135</td>
<td align="right">12</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
<p><strong>Mod Indices</strong>:</p>
<pre class="r"><code>#get modification indices for all parameters:
residVarMI1 = modificationindices(resA2, free.remove = FALSE, maximum.number = 10000)
#restrict output to only residual variance parameters:
residVarMI1a = residVarMI1[which(residVarMI1$op == &quot;~~&quot; &amp; residVarMI1$lhs == residVarMI1$rhs),]
residVarMI1a &lt;- residVarMI1a[order(-residVarMI1a$mi),] # changes: pref_wpart_w3 ~~  pref_wpart_w3</code></pre>
<pre class="r"><code>residVarSyntax3 = &quot;
#===================================================================================================
#Factor loadings constrained across groups except non-invariant ones
perc_merit1  =~ L1*perc_effort_w1 + L2*perc_talent_w1 
perc_merit2  =~ L1*perc_effort_w2 + L2*perc_talent_w2
perc_merit3  =~ L1*perc_effort_w3 + L2*perc_talent_w3
perc_nmerit1 =~ L3*perc_wpart_w1  + L4T1*perc_netw_w1   #FREE PARAMETER    
perc_nmerit2 =~ L3*perc_wpart_w2  + L4*perc_netw_w2  
perc_nmerit3 =~ L3*perc_wpart_w3  + L4*perc_netw_w3    
pref_merit1  =~ L5*pref_effort_w1 + L6T1*pref_talent_w1 #FREE PARAMETER
pref_merit2  =~ L5*pref_effort_w2 + L6*pref_talent_w2
pref_merit3  =~ L5*pref_effort_w3 + L6*pref_talent_w3
pref_nmerit1 =~ L7*pref_wpart_w1  + L8*pref_netw_w1    
pref_nmerit2 =~ L7*pref_wpart_w2  + L8*pref_netw_w2  
pref_nmerit3 =~ L7*pref_wpart_w3  + L8*pref_netw_w3

#===================================================================================================
#Item intercepts all constrained across groups except non-invariant ones 
perc_effort_w1 ~ I1*1; perc_talent_w1 ~ I2*1; perc_wpart_w1 ~ I3*1; perc_netw_w1 ~ I4T1*1; pref_effort_w1 ~ I5*1; pref_talent_w1 ~ I6T1*1; pref_wpart_w1 ~ I7*1; pref_netw_w1 ~ I8*1; # TWO FREE INTERCEPTS
perc_effort_w2 ~ I1*1; perc_talent_w2 ~ I2*1; perc_wpart_w2 ~ I3*1; perc_netw_w2 ~ I4*1; pref_effort_w2   ~ I5*1; pref_talent_w2 ~ I6*1; pref_wpart_w2   ~ I7*1; pref_netw_w2 ~ I8*1; 
perc_effort_w3 ~ I1*1; perc_talent_w3 ~ I2*1; perc_wpart_w3 ~ I3*1; perc_netw_w3 ~ I4*1; pref_effort_w3   ~ I5*1; pref_talent_w3 ~ I6*1; pref_wpart_w3   ~ I7*1; pref_netw_w3 ~ I8*1; 

#===================================================================================================
#Redidual variances all constrained in each group except non-invariant ones ****
perc_effort_w1 ~~ E1*perc_effort_w1; perc_talent_w1 ~~ E2*perc_talent_w1; perc_wpart_w1 ~~ E3*perc_wpart_w1; perc_netw_w1 ~~ E4T1*perc_netw_w1; pref_effort_w1 ~~ E5*pref_effort_w1; pref_talent_w1 ~~ E6T1*pref_talent_w1; pref_wpart_w1 ~~ E7*pref_wpart_w1; pref_netw_w1 ~~ E8*pref_netw_w1;
perc_effort_w2 ~~ E1*perc_effort_w2; perc_talent_w2 ~~ E2*perc_talent_w2; perc_wpart_w2 ~~ E3*perc_wpart_w2; perc_netw_w2 ~~ E4*perc_netw_w2; pref_effort_w2   ~~ E5*pref_effort_w2; pref_talent_w2 ~~ E6*pref_talent_w2; pref_wpart_w2   ~~ E7T2*pref_wpart_w2; pref_netw_w2 ~~ E8*pref_netw_w2; # F-RES2
perc_effort_w3 ~~ E1*perc_effort_w3; perc_talent_w3 ~~ E2*perc_talent_w3; perc_wpart_w3 ~~ E3*perc_wpart_w3; perc_netw_w3 ~~ E4*perc_netw_w3; pref_effort_w3   ~~ E5*pref_effort_w3; pref_talent_w3 ~~ E6*pref_talent_w3; pref_wpart_w3   ~~ E7T3*pref_wpart_w3; pref_netw_w3 ~~ E8*pref_netw_w3; # F-RES3
#===================================================================================================
#Residual covariances freely estimated in each group with labels (C1T12= covariance 1 between time 1&amp;2)

perc_effort_w1 ~~ C1T12*perc_effort_w2 + C1T13*perc_effort_w3; perc_effort_w2 ~~ C1T23*perc_effort_w3;  
perc_talent_w1 ~~ C2T12*perc_talent_w2 + C2T13*perc_talent_w3; perc_talent_w2 ~~ C2T23*perc_talent_w3;  
perc_wpart_w1  ~~ C3T12*perc_wpart_w2  + C3T13*perc_wpart_w3 ; perc_wpart_w2  ~~ C3T23*perc_wpart_w3 ; 
perc_netw_w1   ~~ C4T12*perc_netw_w2   + C4T13*perc_netw_w3  ; perc_netw_w2   ~~ C4T23*perc_netw_w3  ;
pref_effort_w1 ~~ C5T12*pref_effort_w2 + C5T13*pref_effort_w3; pref_effort_w2 ~~ C5T23*pref_effort_w3;  
pref_talent_w1 ~~ C6T12*pref_talent_w2 + C6T13*pref_talent_w3; pref_talent_w2 ~~ C6T23*pref_talent_w3;  
pref_wpart_w1  ~~ C7T12*pref_wpart_w2  + C7T13*pref_wpart_w3 ; pref_wpart_w2  ~~ C7T23*pref_wpart_w3 ; 
pref_netw_w1   ~~ C8T12*pref_netw_w2   + C8T13*pref_netw_w3  ; pref_netw_w2   ~~ C8T23*pref_netw_w3  ;


#===================================================================================================
#Factor variance fixed to 1 for identification in first group; estimated in others
perc_merit1  ~~ 1*perc_merit1
perc_merit2  ~~ perc_merit2
perc_merit3  ~~ perc_merit3

perc_nmerit1 ~~ 1*perc_nmerit1
perc_nmerit2 ~~ perc_nmerit2
perc_nmerit3 ~~ perc_nmerit3

pref_merit1  ~~ 1*pref_merit1
pref_merit2  ~~ pref_merit2
pref_merit3  ~~ pref_merit3

pref_nmerit1 ~~ 1*pref_nmerit1
pref_nmerit2 ~~ pref_nmerit2
pref_nmerit3 ~~ pref_nmerit3

#===================================================================================================
#Factor mean fixed to zero for identification first group, estimated in others ****
perc_merit1  ~ 0
perc_merit2  ~ 1
perc_merit3  ~ 1

perc_nmerit1 ~ 0
perc_nmerit2 ~ 1
perc_nmerit3 ~ 1

pref_merit1  ~ 0
pref_merit2  ~ 1
pref_merit3  ~ 1

pref_nmerit1 ~ 0
pref_nmerit2 ~ 1
pref_nmerit3 ~ 1

#===================================================================================================
#Factor covariances all freely estimated
perc_merit1  ~~ perc_merit2 + perc_merit3
perc_merit2  ~~ perc_merit3

perc_nmerit1 ~~ perc_nmerit2 + perc_nmerit3
perc_nmerit2 ~~ perc_nmerit3

pref_merit1  ~~ pref_merit2 + pref_merit3
pref_merit2  ~~ pref_merit3

pref_nmerit1 ~~ pref_nmerit2 + pref_nmerit3
pref_nmerit2 ~~ pref_nmerit3
#===================================================================================================
&quot;</code></pre>
<pre class="r"><code>#residual invariance (v03) for complete sample (mode 1, 2 &amp; 3)
resA3 = lavaan(model =residVarSyntax3 , data = wide02, estimator = &quot;MLR&quot;)</code></pre>
<pre class="r"><code>kable(rbind(fit.conf   =fitmeasures(conf)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA  =fitmeasures(metrA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA2 =fitmeasures(metrA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.metrA3 =fitmeasures(metrA3)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.scaA   =fitmeasures(scaA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.resA   =fitmeasures(resA)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.resA2  =fitmeasures(resA2)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)],
            fit.resA3  =fitmeasures(resA3)[c(&quot;chisq.scaled&quot;,&quot;df&quot;,&quot;cfi&quot;,&quot;cfi.scaled&quot;,&quot;cfi.robust&quot;,&quot;rmsea&quot;,&quot;rmsea.scaled&quot;,&quot;rmsea.robust&quot;)]),digits = 3,format = &quot;markdown&quot;)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">chisq.scaled</th>
<th align="right">df</th>
<th align="right">cfi</th>
<th align="right">cfi.scaled</th>
<th align="right">cfi.robust</th>
<th align="right">rmsea</th>
<th align="right">rmsea.scaled</th>
<th align="right">rmsea.robust</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">fit.conf</td>
<td align="right">1514.400</td>
<td align="right">217</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA</td>
<td align="right">1547.583</td>
<td align="right">225</td>
<td align="right">0.810</td>
<td align="right">0.807</td>
<td align="right">0.813</td>
<td align="right">0.070</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="odd">
<td align="left">fit.metrA2</td>
<td align="right">1532.551</td>
<td align="right">224</td>
<td align="right">0.812</td>
<td align="right">0.809</td>
<td align="right">0.815</td>
<td align="right">0.069</td>
<td align="right">0.064</td>
<td align="right">0.069</td>
</tr>
<tr class="even">
<td align="left">fit.metrA3</td>
<td align="right">1524.031</td>
<td align="right">223</td>
<td align="right">0.813</td>
<td align="right">0.810</td>
<td align="right">0.816</td>
<td align="right">0.069</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="odd">
<td align="left">fit.scaA</td>
<td align="right">1550.456</td>
<td align="right">229</td>
<td align="right">0.813</td>
<td align="right">0.807</td>
<td align="right">0.816</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.068</td>
</tr>
<tr class="even">
<td align="left">fit.resA</td>
<td align="right">1643.810</td>
<td align="right">242</td>
<td align="right">0.806</td>
<td align="right">0.795</td>
<td align="right">0.809</td>
<td align="right">0.068</td>
<td align="right">0.063</td>
<td align="right">0.067</td>
</tr>
<tr class="odd">
<td align="left">fit.resA2</td>
<td align="right">1618.140</td>
<td align="right">241</td>
<td align="right">0.810</td>
<td align="right">0.799</td>
<td align="right">0.812</td>
<td align="right">0.067</td>
<td align="right">0.063</td>
<td align="right">0.067</td>
</tr>
<tr class="even">
<td align="left">fit.resA3</td>
<td align="right">1620.948</td>
<td align="right">240</td>
<td align="right">0.810</td>
<td align="right">0.798</td>
<td align="right">0.812</td>
<td align="right">0.067</td>
<td align="right">0.063</td>
<td align="right">0.067</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kable(lavTestLRT(resA3,scaA,metrA3,conf,scaled.shifted = TRUE,method = &quot;satorra.bentler.2001&quot;),format = &quot;markdown&quot;,digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Df</th>
<th align="right">AIC</th>
<th align="right">BIC</th>
<th align="right">Chisq</th>
<th align="right">Chisq diff</th>
<th align="right">Df diff</th>
<th align="right">Pr(&gt;Chisq)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">conf</td>
<td align="right">217</td>
<td align="right">103397.4</td>
<td align="right">103962.2</td>
<td align="right">1769.008</td>
<td align="right"></td>
<td align="right"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">metrA3</td>
<td align="right">223</td>
<td align="right">103390.9</td>
<td align="right">103924.0</td>
<td align="right">1774.507</td>
<td align="right">5.350</td>
<td align="right">6</td>
<td align="right">0.500</td>
</tr>
<tr class="odd">
<td align="left">scaA</td>
<td align="right">229</td>
<td align="right">103382.5</td>
<td align="right">103883.9</td>
<td align="right">1778.109</td>
<td align="right">7.268</td>
<td align="right">6</td>
<td align="right">0.297</td>
</tr>
<tr class="even">
<td align="left">resA3</td>
<td align="right">240</td>
<td align="right">103398.8</td>
<td align="right">103842.2</td>
<td align="right">1816.395</td>
<td align="right">66.699</td>
<td align="right">11</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
<p><strong>Mod Indices</strong>:</p>
<pre class="r"><code>#get modification indices for all parameters:
residVarMI1 = modificationindices(resA3, free.remove = FALSE, maximum.number = 10000)
#restrict output to only residual variance parameters:
residVarMI1a = residVarMI1[which(residVarMI1$op == &quot;~~&quot; &amp; residVarMI1$lhs == residVarMI1$rhs),]
residVarMI1a &lt;- residVarMI1a[order(-residVarMI1a$mi),] # change: pref_wpart_w3 ~~  pref_wpart_w3 (?)</code></pre>
<p><strong>NOTE</strong>: The residual is too big. Mod indices suggest to freely estimate the pref_wpart_w3 covariance, but this one is already free.</p>
<ul>
<li><p>Invarianza Longitudinal en lavaan</p>
<ul>
<li><a href="https://quantdev.ssri.psu.edu/tutorials/intro-basics-longitudinal-measurement-invariance" class="uri">https://quantdev.ssri.psu.edu/tutorials/intro-basics-longitudinal-measurement-invariance</a></li>
<li><a href="https://jonathantemplin.com/wp-content/uploads/2017/08/EPSY906_Example07b_CFA_Longitudinal_Invariance.nb_.html" class="uri">https://jonathantemplin.com/wp-content/uploads/2017/08/EPSY906_Example07b_CFA_Longitudinal_Invariance.nb_.html</a></li>
</ul></li>
<li><p><a href="https://users.ugent.be/~yrosseel/lavaan/multiplegroup6Dec2012.pdf" class="uri">https://users.ugent.be/~yrosseel/lavaan/multiplegroup6Dec2012.pdf</a></p></li>
<li><p>Invarianza con Indicatores categóricos <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5121102/pdf/nihms757737.pdf" class="uri">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5121102/pdf/nihms757737.pdf</a></p></li>
<li><p>Parametrización tetha: <a href="https://groups.google.com/forum/#!topic/lavaan/nfdatPgLLhc" class="uri">https://groups.google.com/forum/#!topic/lavaan/nfdatPgLLhc</a></p></li>
<li><p>Colapsing categories: <a href="https://www.tandfonline.com/doi/abs/10.1080/10705511.2018.1547640?journalCode=hsem20" class="uri">https://www.tandfonline.com/doi/abs/10.1080/10705511.2018.1547640?journalCode=hsem20</a></p></li>
</ul>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
